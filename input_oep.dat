#!/usr/bin/python
sys.path.insert(0, './..')
import oepdev

molecule happy {
0 1
O         -3.08471        1.12313        0.00396
H         -2.11791        0.90877        0.01763
H         -3.12325        2.07922       -0.24921
#--
#0 1
#H          0.37920        1.49870       -0.00210
#H          0.16921        2.17489       -0.00147
#================================================
#0 1
#C   0.000000  -0.667578  -2.124659
#C   0.000000   0.667578  -2.124659
#H   0.923621  -1.232253  -2.126185
#H  -0.923621  -1.232253  -2.126185
#H  -0.923621   1.232253  -2.126185
#H   0.923621   1.232253  -2.126185
#--
#0 1
#C   0.000000   0.000000   2.900503
#C   0.000000   0.000000   1.693240
#H   0.000000   0.000000   0.627352
#H   0.000000   0.000000   3.963929

units angstrom
symmetry c1
noreorient
nocom
}

set {
    # ==> OEPDEV Routine Specification <== #
    oepdev_target                 oep_build
    oepdev_localize               False
    oepdev_enable_trial           False
    oepdev_oep_build_type         repulsion_energy
    # ==> General Psi4 Options <== #
    scf_type                      direct 
    guess                         core
    print                         2
    # ==> Basis Sets <== #
    basis                         6-31G
    df_basis_oep                  sto-3g
    #df_basis_sapt                 cc-pVDZ
    # ==> CPHF <== #
    cphf_diis                     True 
    cphf_diis_dim                 2
    cphf_maxiter                  200
    cphf_conver                   1e-8
    # ==> ESP <== #                    
    esp_npoints_per_atom          4000
    esp_pad_sphere                12.0
}


# run oepdev
energy('oepdev')

# run psi4 benchmarks
#energy('sapt0')

# run oepdev python test
oepdev.test(dummy=True)
